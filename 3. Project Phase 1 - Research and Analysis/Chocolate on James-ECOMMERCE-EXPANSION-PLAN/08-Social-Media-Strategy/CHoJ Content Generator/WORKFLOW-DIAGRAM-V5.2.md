# Two-Stage Image Workflow - Visual Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTENT CREATOR PRO v5.2                             â”‚
â”‚                   TWO-STAGE IMAGE WORKFLOW                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                              USER UPLOADS IMAGE
                         (Drag/Drop/Paste/Click)
                                    â”‚
                                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚                             â”‚
                                    â–¼                             â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   IMAGE ANALYSIS      â”‚   â”‚  VISUAL INDICATORS      â”‚
                        â”‚                       â”‚   â”‚                         â”‚
                        â”‚ â€¢ Extract colors      â”‚   â”‚ â€¢ Green banner shows    â”‚
                        â”‚ â€¢ Analyze brightness  â”‚   â”‚ â€¢ Thumbnail preview     â”‚
                        â”‚ â€¢ Detect temperature  â”‚   â”‚ â€¢ "Clear Image" button  â”‚
                        â”‚ â€¢ Assess mood         â”‚   â”‚ â€¢ Button text changes   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                              â”‚
                    â–¼                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   STAGE 1 (QUICK)    â”‚      â”‚  STAGE 2 (CUSTOM)        â”‚
        â”‚                      â”‚      â”‚                          â”‚
        â”‚ 4 Prompt Variations: â”‚      â”‚ User Customizes:         â”‚
        â”‚                      â”‚      â”‚                          â”‚
        â”‚ 1ï¸âƒ£ Exact Match       â”‚      â”‚ â€¢ Platform (IG/FB/Pin)  â”‚
        â”‚ 2ï¸âƒ£ Inspired          â”‚      â”‚ â€¢ Season (Dec/Feb/etc)  â”‚
        â”‚ 3ï¸âƒ£ Premium Elevated  â”‚      â”‚ â€¢ Audience (Gifts/Corp) â”‚
        â”‚ 4ï¸âƒ£ CHoJ Branded      â”‚      â”‚ â€¢ Style (Photo/Life)    â”‚
        â”‚                      â”‚      â”‚ â€¢ Category              â”‚
        â”‚ Each has:            â”‚      â”‚ â€¢ Product name          â”‚
        â”‚ â€¢ Copy button        â”‚      â”‚ â€¢ Special notes         â”‚
        â”‚ â€¢ Use button â¡ï¸      â”‚      â”‚                          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                              â”‚
                   â”‚ Click "Use"                  â”‚ Click "Generate"
                   â”‚                              â”‚
                   â–¼                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Uses EXACT variation â”‚      â”‚ buildImagePromptWith     â”‚
        â”‚ prompt as-is         â”‚      â”‚ UploadedImage()          â”‚
        â”‚                      â”‚      â”‚                          â”‚
        â”‚ â€¢ No customization   â”‚      â”‚ Combines:                â”‚
        â”‚ â€¢ Instant result     â”‚      â”‚ â€¢ Image analysis âœ“       â”‚
        â”‚ â€¢ Best for quick use â”‚      â”‚ â€¢ User controls âœ“        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â€¢ Platform specs âœ“       â”‚
                   â”‚                  â”‚ â€¢ Seasonal elements âœ“    â”‚
                   â”‚                  â”‚ â€¢ Audience targeting âœ“   â”‚
                   â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                              â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     GENERATE CONTENT       â”‚
                    â”‚                            â”‚
                    â”‚ â€¢ AI Image Prompt          â”‚
                    â”‚ â€¢ 10 Social Captions       â”‚
                    â”‚ â€¢ Hashtags                 â”‚
                    â”‚ â€¢ CTAs                     â”‚
                    â”‚ â€¢ Platform optimized       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


                          DETAILED WORKFLOW PATHS


PATH A: QUICK VARIATIONS (Stage 1 Only)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Journey:
1. Upload image (chocolate truffles on table)
2. See 4 variations instantly
3. Click "Use" on "CHoJ Branded" variation
4. Get complete content immediately

Time: 30 seconds
Best for: Quick inspiration, testing styles


PATH B: FULL CUSTOMIZATION (Stage 2)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Journey:
1. Upload image (chocolate truffles on table)
2. See green banner: "Using Uploaded Image"
3. Ignore quick variations
4. Set controls:
   Platform: Instagram Post
   Season: December (Christmas)
   Audience: Gift Buyers
   Style: Lifestyle
   Product: "Holiday Truffle Collection"
5. Click "Generate Content Using Uploaded Image"
6. Get comprehensive prompt + 10 captions

Time: 2 minutes
Best for: Targeted campaigns, seasonal content, audience-specific


PATH C: HYBRID APPROACH
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Journey:
1. Upload image
2. Review quick variations (get ideas)
3. Don't click "Use"
4. Use insights to customize left panel
5. Generate custom content
6. Compare custom vs quick variations

Time: 3 minutes
Best for: Learning, experimentation, comparison


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


                       TECHNICAL FLOW DIAGRAM


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FUNCTION CALL FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User uploads image
    â”‚
    â”œâ”€> handleImageFile(file)
    â”‚       â”‚
    â”‚       â”œâ”€> displayImagePreview(imageData)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€> showImageModeBanner(imageData)  ğŸ†• v5.2
    â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â”œâ”€> Show green banner
    â”‚       â”‚       â”‚       â”œâ”€> Update thumbnail
    â”‚       â”‚       â”‚       â””â”€> Change button text
    â”‚       â”‚       â”‚
    â”‚       â”‚       â””â”€> Show "Analyzing..." state
    â”‚       â”‚
    â”‚       â””â”€> analyzeImage(imageData)
    â”‚               â”‚
    â”‚               â”œâ”€> analyzeImageWithAI(imageData)
    â”‚               â”‚       â”‚
    â”‚               â”‚       â”œâ”€> extractDominantColors()
    â”‚               â”‚       â”œâ”€> analyzeBrightness()
    â”‚               â”‚       â”œâ”€> analyzeColorTemperature()
    â”‚               â”‚       â””â”€> Build analysis object
    â”‚               â”‚
    â”‚               â”œâ”€> Store in currentAnalysis
    â”‚               â”œâ”€> displayAnalysis(analysis)
    â”‚               â””â”€> generatePromptVariations(analysis)
    â”‚                       â”‚
    â”‚                       â””â”€> Create 4 variations
    â”‚
    â””â”€> Ready for user action


User clicks "Generate" (Stage 2)
    â”‚
    â”œâ”€> generateContent()
    â”‚       â”‚
    â”‚       â”œâ”€> getOptions() from left panel
    â”‚       â”‚
    â”‚       â”œâ”€> buildImagePrompt(options)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€> Check: window.selectedImagePrompt?
    â”‚       â”‚       â”‚   â”œâ”€> YES: Return variation (Stage 1)
    â”‚       â”‚       â”‚   â””â”€> NO: Continue â–¼
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€> Check: currentAnalysis exists? ğŸ†• v5.2
    â”‚       â”‚       â”‚   â”œâ”€> YES: buildImagePromptWithUploadedImage() â­
    â”‚       â”‚       â”‚   â”‚       â”‚
    â”‚       â”‚       â”‚   â”‚       â”œâ”€> Get image analysis data
    â”‚       â”‚       â”‚   â”‚       â”œâ”€> Get user options
    â”‚       â”‚       â”‚   â”‚       â”œâ”€> Combine intelligently
    â”‚       â”‚       â”‚   â”‚       â””â”€> Return comprehensive prompt
    â”‚       â”‚       â”‚   â”‚
    â”‚       â”‚       â”‚   â””â”€> NO: Build generic prompt
    â”‚       â”‚       â”‚
    â”‚       â”‚       â””â”€> Return prompt object
    â”‚       â”‚
    â”‚       â”œâ”€> buildSocialMediaCopy(options)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â””â”€> Generate 10 captions with hashtags
    â”‚       â”‚
    â”‚       â””â”€> displayContent(imagePrompt, socialPosts, options)
    â”‚               â”‚
    â”‚               â”œâ”€> Show "Using Your Image" badge ğŸ†• v5.2
    â”‚               â”œâ”€> Display AI prompt
    â”‚               â””â”€> Display 10 social posts
    â”‚
    â””â”€> Content ready!


User clicks "Use" on variation (Stage 1)
    â”‚
    â”œâ”€> sendToGenerator(index)
    â”‚       â”‚
    â”‚       â”œâ”€> Store variation in window.selectedImagePrompt
    â”‚       â”œâ”€> Call generateContent()
    â”‚       â”‚       â”‚
    â”‚       â”‚       â””â”€> buildImagePrompt() sees selectedImagePrompt
    â”‚       â”‚               â”‚
    â”‚       â”‚               â””â”€> Returns that exact variation
    â”‚       â”‚
    â”‚       â””â”€> Clear selectedImagePrompt after use
    â”‚
    â””â”€> Content ready!


User clicks "Clear Image"
    â”‚
    â”œâ”€> clearUploadedImage() ğŸ†• v5.2
    â”‚       â”‚
    â”‚       â”œâ”€> Confirm with user
    â”‚       â”œâ”€> Clear currentImageData
    â”‚       â”œâ”€> Clear currentAnalysis
    â”‚       â”œâ”€> Hide banner
    â”‚       â”œâ”€> Reset button text
    â”‚       â””â”€> Hide analysis results
    â”‚
    â””â”€> Ready for fresh upload or generic generation


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


                         STATE MANAGEMENT


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GLOBAL STATE VARIABLES                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚ currentImageData           Image base64 data                           â”‚
â”‚ currentAnalysis            Analysis object (colors, brightness, etc)   â”‚
â”‚ generatedVariations[]      Array of 4 quick variations                â”‚
â”‚ window.selectedImagePrompt Variation selected via "Use" button        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

State Transitions:

NO IMAGE STATE
â”œâ”€ currentImageData: null
â”œâ”€ currentAnalysis: null
â”œâ”€ Banner: Hidden
â”œâ”€ Button: "Generate Complete Content"
â””â”€ Behavior: Generic prompts

    â”‚ (Upload image)
    â–¼

IMAGE UPLOADED STATE (Stage 2 Ready) ğŸ†• v5.2
â”œâ”€ currentImageData: <base64>
â”œâ”€ currentAnalysis: <object>
â”œâ”€ Banner: Visible (green)
â”œâ”€ Button: "Generate Content Using Uploaded Image"
â””â”€ Behavior: Use image + controls

    â”‚ (Click "Use" on variation)
    â–¼

VARIATION SELECTED STATE (Stage 1)
â”œâ”€ window.selectedImagePrompt: <string>
â”œâ”€ Banner: Still visible
â”œâ”€ Button: Normal
â””â”€ Behavior: Use exact variation, ignore controls

    â”‚ (Generate completes)
    â–¼

GENERATED STATE
â”œâ”€ Previous state maintained
â”œâ”€ Output shown
â””â”€ Can regenerate or clear

    â”‚ (Click "Clear Image")
    â–¼

NO IMAGE STATE (reset to start)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


                        KEY DECISION POINTS


buildImagePrompt() Decision Tree:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚  Is window.selectedImagePrompt set?                                    â”‚
â”‚  â”œâ”€ YES â†’ Return that exact prompt (Stage 1 path)                     â”‚
â”‚  â””â”€ NO â†’ Continue â–¼                                                    â”‚
â”‚                                                                         â”‚
â”‚      Is currentAnalysis AND currentImageData present? ğŸ†• v5.2          â”‚
â”‚      â”œâ”€ YES â†’ buildImagePromptWithUploadedImage()                     â”‚
â”‚      â”‚           (Stage 2 path - NEW FEATURE)                         â”‚
â”‚      â””â”€ NO â†’ Build generic chocolate prompt                           â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Legend:
ğŸ†• - New in v5.2
â­ - Key new function
âœ“ - Checkbox/confirmation
```
